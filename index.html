<!DOCTYPE html>
<html>

<head>

<meta name="keywords" content="JavaScript, WebRTC" />
<meta name="description" content="WebRTC codelab" />
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1">

<title>WebRTC codelab: step 2</title>

<style>
</style>

</head>


<body>

  <div id = "container" ></div>
  <script src = "js/three.min.js">              </script>
  <script src = "js/stats.min.js">              </script>
  <script src = "js/Audio.js">                  </script>
  <script src = "js/pitchDetect.js">            </script>
  <script src = "js/Scene.js">                  </script>
  <script>

navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;

var constraints = {
  audio: true,
};

function successCallback(stream) {
 
  window.stream = stream; // stream available to console
  var mediaStreamSource = musicContext.createMediaStreamSource( stream );
  mediaStreamSource.connect( analyser );

  startAnimation();

}

function errorCallback(error){
  console.log("navigator.getUserMedia error: ", error);
}

navigator.getUserMedia(constraints, successCallback, errorCallback);

pitchDetector = new pitchDetector();
init();

</script>

</body>

</html>
